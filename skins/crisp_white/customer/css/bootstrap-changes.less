/* vim: set ts=2 sw=2 sts=2 et: */

/**
 * Styles
 *
 * Copyright (c) 2001-present Qualiteam software Ltd. All rights reserved.
 * See https://www.x-cart.com/license-agreement.html for license details.
 */

//
// Main styles (via less)
// --------------------------------------------------
@import "less/variables.less";
@import "less/iconfont.less";
@import "less/mmenu-fixes.less";
@import "less/grid.less";
@import "less/header.less";
@import "less/signin.less";
@import "less/mobile-header.less";
@import "less/module-fixes.less";
@import "less/footer.less";
@import "less/navbar.less";
@import "less/navs.less";
@import "less/vertical-tabs.less";
@import "less/tables.less";
@import "less/buttons.less";
@import "less/dropdowns.less";
@import "less/forms.less";
@import "less/elements.less";
@import "less/type.less";
@import "less/user-content.less";
@import "less/carousel.less";
@import "less/colorbox.less";
@import "less/rhythm.less";

.center-image-in-flex() {
  max-width: 100%;
  max-height: 100%;

  body:not(.ie11) & {
    width: auto !important;
    height: auto !important;
    object-fit: contain;
  }
}

body {
  padding: 0;
}

html {
  margin: 0;
  padding: 0;
  background: @body-bg;
}

a {
  &,
  &:hover,
  &:focus {
    outline: none;
    text-decoration: none;
  }
  &.shown {
    color: @color-highlight;
  }
}

ul li {
  .list-unstyled();
}

table {
  .table;
}

.table .table {
  background: transparent;
}

i.table {
  margin-bottom: 0;
}

#site-slogan,
#main-menu,
fieldset legend,
button.action,
button.bright {
  font-family: @headings-font-family;
}

.ui-dialog .ui-dialog-title {
  .h1;
  margin-bottom: @rhythmic-unit;
  padding-bottom: @rhythmic-unit;
  text-align: center;
  width: 100%;
}

fieldset legend,
.form-required,
.ui-dialog .ui-dialog-title {
  color: @headings-color;
}

ul.products-grid.grid-list {
  .clearfix;
  &:extend(.clearfix all);
}

ul.products-grid.grid-list li.product-cell:hover {
  z-index: 2;
  position: relative;
}

ul.products-grid.grid-list li.product-cell.current {
  position: relative;
  z-index: 200 !important;
}

.product-details span.product-price,
.product-quicklook span.product-price {
  color: @price-color;
}

.products span.product-price {
  color: @price-color;
  #rhythmless > .rhythm(@font-size-h4);
}

ul.labels li {
  #rhythmless > .rhythm(@font-size-small);
}

ul.account-links .language-selector li {
  line-height: @line-height-base;
}

ul.account-links {
  li.language_label {
    display: none !important;
  }
}

ul.account-links li {
  margin: 0;
  #rhythmless > .rhythm(@font-size-small);
}

.header-right-bar .block:first-child .content,
.header-right-bar .block:first-child .content > div {
  -moz-border-radius-bottomleft: 5px;
  -webkit-border-bottom-left-radius: 5px;
  border-bottom-left-radius: 5px;
}

.header-right-bar .block:last-child .content,
.header-right-bar .block:last-child .content > div {
  -moz-border-radius-bottomright: 5px;
  -webkit-border-bottom-right-radius: 5px;
  border-bottom-right-radius: 5px;
}

/*
div.tabs ul.tabs {
  .nav;
  .nav-tabs;
}
*/

.product-details input.quantity,
.product-quicklook input.quantity,
#shopping-cart td.item-qty input {
  .form-control;
  display: inline;
}

.model-form-buttons .button.delete_profile {
  float: left;
}

.delete-user-button {
  margin: 10px 0 0 40px !important;
}

.ui-dialog {
  .rounded(@border-radius-base);

  @media(max-width: @screen-xs-min) {
    padding: (3 * @rhythmic-unit) @rhythmic-unit !important;
  }
}

.ui-widget-content {
  .clearfix;
  color: @color-text-default;

  a {
    color: @link-color;
    text-decoration: none;

    &:hover,
    &:focus {
      color: @link-hover-color;
    }

    &:focus {
      outline: none;
    }
  }
}

.ui-dialog .ui-dialog-titlebar-close {
  top: -(2 * @rhythmic-unit);
  right: -(2 * @rhythmic-unit);
  width: @rhythmic-unit;
  height: @rhythmic-unit;
  border: none;
  background: transparent;
  margin: 0;
  color: #000;

  &:before,
  &:after {
    position: absolute;
    left: 10px;
    top: -4px;
    content: ' ';
    height: 29px;
    width: 1px;
    background-color: #000;
  }
  &:before {
    transform: rotate(45deg);
  }
  &:after {
    transform: rotate(-45deg);
  }
  &:hover {
    &:before,
    &:after {
      background-color: @color-hover;
    }
  }

  @media(max-width: @screen-xs-min) {
    right: 0;
  }
}

#shopping-cart .update-quantity {
  .form-inline;
}

.checkout-block .shipping-step .step-box {
  border: none;
}

.checkout-block .shipping-step .step-box,
.checkout-block .review-step .step-box .box {
  margin-right: 0;
}

.target-checkout {
  .mobile_header {
    font-size: 20px;
    ul.nav-pills:not(.affix) {
      border-bottom: 1px solid @color-border;
      box-shadow: none;
    }
  }
}

.mobile_header {
  ul.nav-pills {
    background: @mobile-menu-bg;
    height: @mobile-menu-height;
    width: 100%;
    position: fixed;
    left: 0;
    z-index: 70;
    .box-shadow(@mobile-menu-shadow);

    li.dropdown {
      > a {
        svg {
          path {
            fill: @mobile-menu-icons-color;
          }
        }

        &:hover {
          svg {
            path {
              fill: @mobile-menu-icons-color;
            }
          }
        }
      }
    }
  }

  #account_box {
    .language-selector {
      display: none;
    }
  }

  .fa-bars {
    font-size: 17px;
  }

  #language_box {
    min-width: 0;
  }

  ul {
    li {
      background: none;
      padding-left: 0;

      ul.language_list {
        li.language_label {
          display: none !important;
        }

        li {
          .make-xs-column(12; 0);
          margin: 0;

          &.language-selector {
            padding: 7px 0;
          }

          ul {
            .make-xs-column(12; 0);

            li {
              a {
                display: block;
                white-space: nowrap;

                img {
                  display: inline-block;
                  width: 19px;
                  margin-right: 6px;
                }
              }

              span {
                display: inline-block;

                img {
                  display: inline-block;
                  width: 19px;
                  margin-right: 6px;
                }

                span {
                  display: inline-block;
                }
              }

              &.current {
                padding: 13px 15px;

                &:hover {
                  background-color: inherit;
                }
              }
            }
          }
        }
      }

    }

    &#search_box {
      position: fixed;
      left: 1.5%;
      top: (@mobile-menu-height - @mobile-menu-height*0.8)/2;
      height: @mobile-menu-height*0.8;
      width: 97%;

      #mobile_search {

        width: 95%;
        margin: 0 auto;
        float: none;

        .simple-search-box {
          border: none;
          height: 100%;
          margin: 8px 0;
          padding-left: 30px;

          button.submit-button {
            top: 8px;
            left: 4px;
            background: none;
            text-indent: 0;
            overflow: hidden;
            width: 17px;
            position: absolute;
            color: @mobile-menu-search-button-color;

            span {
              .glyphicon;
              .glyphicon-search;

            }
          }

          input.form-text {
            width: 100%;
            float: none;
            border: none;
            box-shadow: none;
            padding: 0;
            background: transparent;
            line-height: 28px;
            font-size: 16px;
          }
        }
      }
    }
  }
}

.target-checkout .mobile_header a#main_menu,
.target-checkout .mobile_header a#search_menu,
.target-checkout .mobile_header a#language_menu {
  display: none;
}

#methodid {
  display: block;
}


.loupe {
  display: none;
}

.checkout-block ul.shipping-rates li label img.right-fade,
.checkout-block ul.payments li label:after {
  #gradient > .horizontal (rgba(255, 255, 255, 0), rgba(255, 255, 255, 1));
}

.block-block {
  h3 + .content {
    margin-top: (2 * @rhythmic-unit);
  }
}

// Sidebar
.sidebar {
  .block.block-block {
    clear: both;
    margin-bottom: (3 * @rhythmic-unit);
  }

  .section > :first-child {
    margin-top: 0;
  }

  h4 {
    margin-bottom: @rhythmic-unit;
  }

  .catalog-categories {
    margin-left: -10px;

    > li a {
      margin-left: 10px;
      padding-right: 0px;
      line-height: (2 * @rhythmic-unit);
    }

    li:hover {
      background-color: #f4fbfe;
    }
  }

  .recently-viewed-products {
    li {
      margin-bottom: @rhythmic-unit;
    }
  }
}

.category-description {
  margin-bottom: (2 * @rhythmic-unit);

  img {
    max-width: 100%;
  }
}

// Subcategories (with icons)
.subcategory-list {
  .flex-display();
  .flex-wrap(wrap);
  text-align: center;
  margin-bottom: (5 * @rhythmic-unit);

  a {
    .flex-display();
    .flex-direction(column);
    .align-items(center);

    .subcategory-icon {
      border: 2px solid transparent;
      img {
        .center-image-in-flex();
      }
    }

    &:hover .subcategory-icon {
      border: 2px solid #000;
      overflow: hidden;
      z-index: 1;

      .rounded(@border-radius-base);
    }
  }

  .subcategory-icon {
    .flex-display();
    .align-items(center);
    .justify-content(center);
    height: @layout-category-image-height;
    max-width: @layout-category-image-width;
    width: @layout-category-image-width;
    margin-bottom: @rhythmic-unit;
  }

  .subcategory-name {
    width: 100px;
    display: inline-block;
  }
}

@media(max-width: @screen-xs-max) {
  .subcategory-list {
    margin-bottom: (3 * @rhythmic-unit);
  }
}

@media(max-width: (@screen-xs - 1px)) {
  .subcategory-list .subcategory-icon {
    height: 110px;
    max-width: 90px;
    width: 90px;
  }
}


// sidebar product list
.products-sidebar-small-thumbnails {
  .clearfix();

  .product-cell {
    margin-bottom: @rhythmic-unit;
  }

  .more-link {
    margin-top: @rhythmic-unit;
    margin-bottom: @rhythmic-unit;
  }

  .product {
    background-color: #fff;
    .flex-display();
    .flex-wrap(wrap);

    &.drag-owner {
      opacity: .2;
    }

    > * {
      .flex(1 100%)
    }

    .product-photo {
      .flex(0 auto);

      .flex-display();
      .justify-content(center);
      .align-items(center);
      .flex-direction(column);

      position: relative;
      width: 100px;

      .product-thumbnail {
        .flex-display();
        .justify-content(center);
        .align-items(center);

        width: 100px;
        height: 120px;
      }
    }

    .details {
      .flex(1 0px);
      overflow: hidden;
      margin-left: 15px;
    }

    ul.product-price {
      margin-top: @rhythmic-unit;

      .vat-note-product-price {
        #rhythmless > .rhythm(@font-size-small);
      }
    }

    &.product-added .added-to-cart {
      display: none;
    }
  }

  .labels {
    position: relative;
    left: 0;
    width: 100%;
    margin-top: -@rhythmic-unit;

    .label-main-box {
      width: 100%;
    }

    .content {
      padding: 0;
    }
  }
}

.pager-dropdown-block {
  cursor: pointer;
  display: inline-block;
  padding-bottom: 7px; // hack for glitching hover

  .sort-by-value,
  .per-page-value {
    .icon-chevron-down--right;
    color: @color-text-dark;
    font-weight: 600;
  }

  &:hover .display-sort,
  &:hover .display-per-page {
    display: block;
  }

  .display-sort {
    width: 120%;
  }

  .display-sort,
  .display-per-page {
    .rounded(@border-radius-base);
    .box-shadow(0 2px 10px 0 rgba(74, 73, 74, 0.2));

    position: absolute;
    z-index: 1;
    background-color: #fff;
    padding: 20px 20px 10px;
    text-align: center;
    margin-top: 10px;
    margin-left: 10px;

    display: none;

    &:before {
      content: " ";
      width: 0;
      height: 0;
      border-style: solid;
      border-width: 0 7px 3px 7px;
      border-color: transparent transparent #fff transparent;
      position: absolute;
      margin-left: -7px;
      top: -3px;
    }

    li {
      text-align: left;
      margin-bottom: @rhythmic-unit;
    }

    .selected a {
      color: @color-highlight;
      cursor: default;
    }
  }
}

.list-pager {

  .flex-display();
  .align-items(center);
  .justify-content(space-between);

  padding-bottom: @rhythmic-unit;
}

.list-pager-bottom {
  padding-top: @rhythmic-unit;
  padding-bottom: 0;
}

.pager-items-total {
  .sort-box {
    z-index: 1;
    position: absolute;
    left: 0;
  }

  .per-page-box {
    .pager-dropdown-block;
  }

  .per-page-box {
    margin-left: 16px;
  }

  .head-h2 + .list-pager {
    top: (4 * @rhythmic-unit);
  }
}

.items-list-products,
.items-list-orders {
  position: relative;

  #content & {
    margin-bottom: (4 * @rhythmic-unit);
  }

  @media(max-width: @screen-xs-max) {
    #content & {
      margin-bottom: (4 * @rhythmic-unit);
    }
  }

  .list-header {
    padding-bottom: (3 * @rhythmic-unit);
  }

  .sort-box {
    z-index: 1;
    position: absolute;
    left: 0;

    .pager-dropdown-block;
  }

  .per-page-box,
  .sort-box {
    padding-bottom: 20px;
    z-index: 100;
  }

  .list-pager {
    position: absolute;
    top: 0;
    right: (@grid-gutter-width / 2);
    .pagination {
      display: none;
    }

    &.list-pager-bottom {
      position: relative;
      right: auto;
      text-align: center;
      .pagination {
        display: inline-block;
      }
      .pager-items-total {
        display: none;
      }
    }
  }

}

.items-list-products {
  .display-mode-box {
    & > div {
      display: none;
    }

    li {
      a {
        color: #9da3b6;

        span.text {
          display: none;
        }
      }

      &.selected a
      {
        color: @color-text-dark;
      }

      &:hover a {
        color: @color-hover;
      }
    }

    .display-modes li {
      height: @rhythmic-unit;
    }

    .display-modes li + li {
      margin-left: @rhythmic-unit;
    }

    i {
      font-size: @rhythmic-unit;
      display: inline;
      vertical-align: top;
    }
  }
}

.product-marks {
  & > * + * {
    margin-left: 10px;
    @media(max-width: @screen-xs-max) {
      margin-left: 5px;
      margin-right: 5px;
    }
  }

  .added-to-cart {
    display: none;
    color: @color-highlight;
    width: 18px;
    height: 18px;
    text-align: center;
    vertical-align: top;

    i {
      line-height: 20px;
      font-size: 16px;
    }
  }

  .product-added & .added-to-cart {
    display: inline-block;
  }

  .add-to-compare {
    display: inline-block;
    text-align: center;
    color: @color-text-dark;
    line-height: 16px;
    vertical-align: top;

    &.product:hover {
      input[type="checkbox"] + label {
        color: @color-hover;
      }
    }

    .label-add-to-compare {
      display: inline-block;
      margin-right: @rhythmic-unit;
    }

    .label-added-to-compare {
      display: none;
      margin-right: @rhythmic-unit;
    }

    input[type="checkbox"] {
      visibility: hidden;
      position: absolute;
      left: -99999px;

      & + label {
        .icon-compare;

        width: 18px;
        height: 18px;
        display: none;
        color: @color-light;
        cursor: pointer;
        font-size: 12px;
      }

      &:checked + label {
        color: @color-text-dark;
        display: inline-block;

        & + .label-add-to-compare {
          display: none;

          & + .label-added-to-compare {
            display: inline-block;
          }
        }

      }
    }
  }

  .product-added & .added-to-cart,
  .products-table & .add-to-compare input[type="checkbox"] + label {
    display: inline-block;
  }

  @media(min-width: (@screen-md-min + 1)) {
    .product:hover & .add-to-compare label {
      display: inline-block;
    }
  }

  @media(max-width: @screen-xs-max) {
    .added-to-cart {
      position: absolute;
      top: -235px;
      right: 15px;
    }
    .product & .add-to-compare input[type="checkbox"] + label {
      display: inline-block;
    }
  }
  @media(max-width: @screen-xs-min) {
    .added-to-cart {
      top: -140px;
    }
  }
}

.product:hover .product-marks {
  & > *:hover label {
    color: @color-hover !important;
  }
}

.product-price-range > .product-price-base {
  display: inline-block;
}

.products-grid,
.products-list {
  margin-bottom: (-3 * @rhythmic-unit);

  .product {
    background-color: #fff;
    position: relative;

    @media(min-width: (@screen-sm-min + 1)) {
      &:not(.prevent-hover):hover, &.touched, &.ui-draggable-dragging {
        .product-photo a,
        .labels {
          opacity: .2;
        }

        .quicklook {
          display: block;
        }
      }
    }
  }

  .product-photo {
    width: 262px;
    height: 280px;
    @media(max-width: @screen-xs-max) {
      width: 200px;
      height: 215px;
      margin-bottom: @rhythmic-unit * 3;
    }
    @media(max-width: @screen-xs-min) {
      width: 100%;
      height: 140px;
    }
    position: relative;

    a {
      .flex-display();
      .justify-content(center);
      .align-items(center);

      width: 100%;
      height: 100%;
      text-align: center;
      transition: opacity .1s ease-in;
      padding: 0 2px;

      img {
        .center-image-in-flex();
      }
    }
  }

  .quicklook {
    .transform(translate(-50%,-50%););

    display: none;
    position: absolute;
    left: 50%;
    top: 50%;
    z-index: 100;
    background: transparent;

    button {
      min-width: 180px;
    }
  }

  .labels {
    position: absolute;
    top: @rhythmic-unit;
    left: -@border-base;

    transition: opacity .1s ease-in;
  }

  .product-marks {
    position: absolute;
    top: @rhythmic-unit;
    right: @rhythmic-unit;
  }

  @media(max-width: @screen-xs-max) {
    .labels {
      top: 0;
    }

    .product-marks {
      top: 235px;
      right: 0;
      width: 100%;
      text-align: center;
    }
  }

  @media(max-width: @screen-xs-min) {
    .product-marks {
      top: 140px;
    }
  }
}

// Products grid
.products-grid {
  .product-cell {
    .flex-display();
    .justify-content(center);
    @media(min-width: @screen-md-min) {
      margin-bottom: (3 * @rhythmic-unit);
    }
  }
  .product {
    width: 262px;
    @media(max-width: @screen-xs-max) {
      width: 200px;
    }
    @media(max-width: @screen-sm-max) {
      width: 100%;
    }

    background-color: #fff;
    padding-bottom: (2 * @rhythmic-unit);
    border: @border-base solid transparent;
    margin: -@border-base;
    position: relative;
    transition: border .1s ease-in;

    .rounded(@border-radius-base);
    .flex-display();
    .flex-direction(column);
    .align-items(center);

    @media(min-width: @screen-sm-min) {
      &:not(.prevent-hover):hover, &.touched, &.ui-draggable-dragging {
        .box-shadow(0 6px 6px 0 rgba(155, 154, 155, 0.5));

        border-color: @color-contrast;

        .add-to-cart-button {
          display: block;
        }
      }
    }

    &.drag-owner {
      opacity: .2;
    }
  }

  .add-to-cart-button {
    .transform(translate(-50%,-50%););

    display: none;
    position: absolute;
    left: 50%;
    top: 41%;
    z-index: 100;
    background: transparent;

    button {
      .regular-main-button;

      @media(min-width: @screen-xs-min) {
        min-width: 180px;
      }
    }

    & + .quicklook {
      top: 59%;
    }
  }

  .product-average-rating {
    line-height: (2 * @rhythmic-unit);
    .separator,
    .separator + .link-to-tab {
      display: none;
    }
  }

  .reviews-count {
    #rhythmless > .rhythm(@font-size-small);
    line-height: (2 * @rhythmic-unit);
  }

  .product-items-available.low-stock {
    margin-top: @rhythmic-unit / 2;
    @media(max-width: @screen-xs) {
      margin-bottom: 0;
    }
    font-weight: 400;
  }

  .product-name {
    width: 100%;
    padding-left: 20px;
    padding-right: 20px;
    @media(max-width: @screen-xs-max) {
      padding-left: 5px;
      padding-right: 5px;
    }
    text-align: center;
    .flex-grow(1);
  }

  ul.product-price {
    margin-top: 0;
    text-align: center;
    span.product-price {
      line-height: (2 * @rhythmic-unit);
    }

    .vat-note-product-price {
      #rhythmless > .rhythm(@font-size-small);
    }
  }
}

.products-list {
  .product-cell {
    margin-bottom: (5 * @rhythmic-unit);
  }

  .product {
    .flex-display();
  }

  .product-photo {
    min-width: 262px;
    margin-right: @grid-gutter-width;

    @media(max-width: @screen-sm-max) {
      min-width: 140px;
      width: 140px;
      height: 150px;
      margin-right: 20px;
    }
  }

  @media(max-width: @screen-sm-max) {
    .labels {
      top: 0;
    }

    .product-marks {
      top: 0;
      right: 0;
    }
  }

  .product-name {
    margin-bottom: @rhythmic-unit;
  }

  .description {
    margin-bottom: @rhythmic-unit;
  }

  .product-info > .product-price {
    margin-bottom: @rhythmic-unit;

    li {
      display: inline-block;
      margin-right: 10px;
    }

    .vat-price {
      line-height: (2 * @rhythmic-unit);
    }
  }

  span.product-price {
    #rhythmless > .rhythm(@font-size-h2);
  }
}

.product-table-representation {
  .flex-display();
  .align-items(center);
  .justify-content(center);
  .icon-bag;

  &:before {
    font-size: @font-size-h4;
    display: inline-block;
  }

  padding: 0;
  text-align: center;
  width: 32px;
  height: 32px;
  color: @color-background;
  background: @color-contrast;
  border-radius: 50%;
  opacity: 0.5;
}

.products-table {
  margin-bottom: (3 * @rhythmic-unit - @border-table);

  tr:first-child {
    display: none;
  }

  td {
    border-style: solid none solid;
    height: 80px;
    min-height: 80px;
  }

  td:nth-child(2) {
    width: 100%;
  }

  td:last-of-type {
    display: none;
  }

  .product-sku {
    #rhythmless > .rhythm(@font-size-small);
    color: @color-text-dark;
  }

  .product-items-available.low-stock {
    #rhythmless > .rhythm(@font-size-small);
    display: block;
  }

  .labels,
  .product-price,
  .product-marks {
    white-space: nowrap;
    text-align: right;
  }

  .vat-note-product-price {
    #rhythmless > .rhythm(@font-size-small);
  }

  .product-add2cart {
    .regular-main-button;
    .icon-bag;

    &:focus {
      #gradient > .vertical (@button-main-gradient-start-color, @button-main-gradient-end-color);
      background-color: @button-main-gradient-start-color;
      border-color: @color-contrast;
    }

    &:before {
      line-height: (2 * @rhythmic-unit);
      font-size: @font-size-h4;
      margin-top: -@border-base;
      display: inline-block;
    }

    padding: 0;
    width: 40px;
    height: 40px;

    span {
      display: none;
    }
  }

  .not-available .product-add2cart {
    cursor: default;
    opacity: .05;

    &:hover,
    &:focus {
      #gradient > .vertical (@button-main-gradient-start-color, @button-main-gradient-end-color);
      background-color: @button-main-gradient-start-color;
      border-color: @color-contrast;
    }
  }
}

.product-average-rating {
  .reviews-count {
    color: @color-border;
  }
}

.product-details {
  @media(max-width: @screen-xs-max) {
    #breadcrumb {
      position: absolute;
      top: @rhythmic-unit;
    }

    &:before {
      display: block;
      margin-top: (2 * @rhythmic-unit);
      content: '';
    }
  }

  @media(max-width: @screen-xs-max) {
    .image {
      margin-bottom: (@rhythmic-unit);
    }

    .product-photo-box {
      .image-flex-item {
        flex-shrink: 0;
        max-width: 100%;
        max-height: 100%;
      }

      margin-top: 0px;
    }
  }

  .image {
    position: relative;
    float: left;
  }

  .product-image-gallery {
    float: left;
    margin-top: (2 * @rhythmic-unit);

    .cycle-cloak {
      overflow: hidden;
      max-height: 360px;
    }

    .cycle-slideshow, .cycle-carousel-wrap, .cycle-slide {
      -webkit-transform: translate3d(0,0,0);
      transform: translate3d(0,0,0);
    }

    .product-image-gallery-navigation {
      width: 58px;
      height: (1 * @rhythmic-unit);
      .flex-display();
      .justify-content(center);
      .align-items(center);

      cursor: pointer;

      &:before {
        display: block; // Needed for IE 11 pseudoelements
        content: '';
        background: url(../images/arrow_down_sheet.svg) center no-repeat;
        background-position: 0 0px;
        height: 16px;
        width: 32px;
      }

      &:not(.disabled):hover:before {
        background-position: 0 -16px;
      }

      &.disabled:before {
        background-position: 0 -32px;
      }
    }

    .product-image-gallery-prev {
      margin-bottom: (1 * @rhythmic-unit);
      &:before {
        transform: rotate(180deg);
      }
    }

    li {
      display: block;
      width: 58px;
      height: 70px;
      margin-bottom: @rhythmic-unit;
      border: @border-base solid transparent;

      & > a {
        .flex-display();
        .justify-content(center);
        .align-items(center);

        height: 100%;
      }

      &.selected,
      &:hover {
        border-color: #000;
        overflow: hidden;
      }
    }
  }

  .product-photo-box {
    margin-top: (2 * @rhythmic-unit);
    margin-bottom: 0;

    position: relative;
  }

  .next-previous-product {
    #rhythmless > .rhythm(@font-size-small);
    position: relative;
    top: 0;
    margin-top: 0;
    z-index: 10000;
    margin-bottom: -1 * @rhythmic-unit;
    display: table;

    & + .product-photo-box {
      margin-top: 0;
    }

    .next-previous-link {
      display: inline-block;
    }

    i {
      line-height: @rhythmic-unit;
    }

    .next-previous-link > a {
      margin-left: 7px;
      margin-right: 7px;
    }

    .next-previous-separator {
      display: none;
    }

    @media(max-width: @screen-xs-max) {
      margin-top: @rhythmic-unit;
    }
  }

  .next-previous-dropdown {
    .rounded(@border-radius-base);
    .box-shadow(0 6px 6px 0 rgba(155, 154, 155, 0.5));

    width: 150px;
    background-color: #fff;
    padding: @rhythmic-unit;
    position: absolute;
    z-index: 10000;
    display: none;
    text-align: center;

    .next-previous-price .product-price {
      #rhythmless > .rhythm(@font-size-large);

      margin-top: @rhythmic-unit;
    }

    .vat-note-product-price {
      #rhythmless > .rhythm(@font-size-small);
    }
  }

  .product-photo {
    .flex-display();
    .justify-content(center);
    .align-items(center);

    box-sizing: content-box;
    border: 1px solid @color-border;
    overflow: hidden;

    width: 366px;
    height: 440px;
    @media(max-width: @screen-md-max) {
      width: 310px;
      height: 370px;
    }

    @media(max-width: @screen-sm-max) {
      width: 300px;
      height: 360px;
    }

    @media(max-width: @screen-xs-max) {
      width: 100%;
      height: 340px;
    }
  }

  .loupe {
    display: inline-block;
    position: absolute;
    width: 43px;
    height: 43px;
    right: 0;
    bottom: 0;
    z-index: 9991;

    &:before {
      content: "";
      width: 0;
      height: 0;
      border-style: solid;
      border-width: 0 0 100px 100px;
      border-color: transparent transparent #fff transparent;
      position: absolute;
      bottom: 0;
      right: 0;
    }

    svg {
      position: relative;
      display: block;
    }

    &:hover svg {
      opacity: .2;
    }
  }

  .image .labels {
    position: absolute;
    top: (2 * @rhythmic-unit);
    z-index: 9994;
  }

  .image .product-added-note {
    position: absolute;
    top: (3 * @rhythmic-unit);
    right: @rhythmic-unit;
    color: @color-highlight;
  }

  .share {
    margin-top: @rhythmic-unit;
    height: 20px !important;

    max-width: 366px;
    @media(max-width: @screen-md-max) {
      max-width: 310px;
    }

    @media(max-width: @screen-sm-max) {
      max-width: 300px;
    }

    & > * {
      display: inline-block;
      height: 20px !important;
    }

    & > script {
      display: none;
    }
  }

  .brief-descr {
    margin-bottom: @rhythmic-unit;
  }

  .product-average-rating {
    margin-top: 0;
    margin-bottom: (@rhythmic-unit / 2);

    .rating + .comment {
      margin-left: (@rhythmic-unit / 2) + 8px;
    }
  }

  .product-reviews {
    .head-h2 {
      display: none;
    }
    .reviews {
      .reviews-list {
        & > li {

        }
      }
    }
  }

  .product-more-link{
    margin-top: (@rhythmic-unit / 2);
  }

  .product-average-rating + .product-more-link{
    margin-top: 0px;
  }

  .product-stock {
    margin-right: (@rhythmic-unit / 2);
    margin-bottom: (@rhythmic-unit / 2);
  }

  .product-freeship-label {
    #rhythmless > .rhythm(@font-size-small);

    margin-left: 0;
    margin-bottom: (@rhythmic-unit / 2);
    vertical-align: bottom;

    @media(max-width: @screen-xs-min) {
      margin-right: 0px;
      display: block;
      margin-top: 10px;
    }
  }

  .editable-attributes {
    margin-top: @rhythmic-unit;
    margin-bottom: @rhythmic-unit;
    max-width: 366px;
  }

  div.product-price {
    margin-top: @rhythmic-unit;
    margin-bottom: @rhythmic-unit;
  }

  .product-price {
    span.product-price {
      #rhythmless > .rhythm(@font-size-h2);
    }

    & ul.product-price > li {
      display: inline-block;
      line-height: (2 * @rhythmic-unit);

      &.product-price-base {
        display: block;
      }

      .labels {
        height: (2 * @rhythmic-unit);
        padding-top: (@rhythmic-unit / 2);
      }
    }
  }

  .attribute-values {
    label {
      line-height: (2 * @rhythmic-unit);
      > div {
        margin-right: 20px;
      }
    }

    label.checkbox-label {
      input {
        width: @rhythmic-unit;
        height: @rhythmic-unit;
      }
    }

    input[type="radio"], input[type="checkbox"] {
      vertical-align: middle;
    }

    li {
      .floating-label;

      &.not-floating label {
        line-height: @rhythmic-unit;
        margin-bottom: @rhythmic-unit / 2;
      }

      .form-control {
        margin-bottom: @rhythmic-unit;
      }
    }
  }

  .add-to-compare {
    .product-marks .add-to-compare();

    line-height: (2 * @rhythmic-unit);

    input[type="checkbox"] + label {
      display: inline-block;

      &:before {
        vertical-align: baseline;
      }
    }
  }

  .product-quicklook & {
    .product-image-gallery {
      margin-top: 0;
    }

    .image .labels {
      top: 0;
    }

    .image .product-added-note {
      top: @rhythmic-unit;
    }

    .product-price {
      & ul.product-price > li {
        display: block;
        line-height: @rhythmic-unit;

        .labels {
          height: @rhythmic-unit;
          padding-top: 0;
        }
      }
    }

    .product-average-rating,
    .product-more-link {
      width: 366px;
      text-align: center;
      display: inline-block;

      @media(max-width: @screen-sm-max) {
        max-width: 100%;
      }
    }
    .add-to-compare {
      display: block;
      text-align: left;
    }
    .pp-button + .add-to-compare {
      margin-top: @rhythmic-unit + 5px;
    }
  }
}

.vote-bar {
  .stars-row {
    color: @color-border;
    #rhythmless > .rhythm(16px);
    line-height: (2 * @rhythmic-unit);
    span {
      vertical-align: baseline;
    }

    .star-single {
      .flex-shrink(0);
      width: 16px;
      span {
        color: @color-border;
      }
    }

    &.full .star-single span {
      color: @color-highlight;
    }

    &.hovered .star-single span {
      color: @color-border;
    }
  }

  .rating-label {
    margin-left: (@rhythmic-unit / 2);
    color: @color-highlight;
  }

  &.editable {
    .stars-row.hovered .star-single.over span {
      color: #25c5df;
    }
  }
}

.product-average-rating {
  .reviews-count {
    display: none;
    &.no-reviews {
      display: inline-block;
      vertical-align: baseline;
    }
  }
  .separator {
    display: inline-block;
    padding-left: 10px;
    padding-right: 10px;
    color: @color-border;
  }
}

.add2cart-popup {
  .item-box {
    display: block;
  }

  .item-box, .products-list-box {
    .clearfix;
  }

  .item-thumbnail {
    .flex-display();
    .align-items(center);
    .justify-content(center);

    width: 160px;
    height: 180px;

    img {
      .center-image-in-flex();
    }
  }

  .added-item-message {
    display: none;
    color: @color-highlight;

    .icon-ok-mark {
      #rhythmless > .rhythm(@font-size-small);
    }
  }

  .item-name {
    .head-h3();
  }

  .item-price {
    #rhythmless > .rhythm(@font-size-h4);

    .surcharge {
      color: @price-color;
    }
  }

  .item-buttons {
    margin-top: @rhythmic-unit;

    & > * + * {
      margin-left: @rhythmic-unit;
    }
  }

  .items-list-products {
    position: static;
  }

  .items-list .head-h2 {
    .head-h3();
    margin-top: (@rhythmic-unit * 2);
    margin-bottom: @rhythmic-unit;
  }

  ul.products-grid.grid-list {
    margin-left: -14px;
    margin-right: -14px;
  }
}

.search-form {
  margin-bottom: (3 * @rhythmic-unit);

  td {
    line-height: (2 * @rhythmic-unit);
  }
}

.tabbed-content-wrapper {
  .page-tabs ul {
    .tabs-top;
  }
  .tab-content {
    .tabs-top-content;
  }
}

.progress-bar .wait-progress {
  min-height: 20px;
  background-color: @color-text-dark;
  #gradient > .striped();
  background-size: 40px 40px;
  .animation(progress-bar-stripes 2s linear infinite);
}

.target-main {
  #header-area .desktop-header:not(.affix),
  .mobile_header .nav:not(.affix) {
    border-bottom: 0px;
    box-shadow: none;
  }

  .category-description {
    text-align: center;
    max-width: 800px;
    margin-left: auto;
    margin-right: auto;
  }

  .subcategory-list {
    .justify-content(flex-start);
  }

  .block-block h3 {
    text-align: center;
  }

  @media(min-width: @screen-sm-min) {
    .subcategory-list {
      .justify-content(center);
    }
  }
}

#banner-rotation-widget, .category-banner {
  .flex-display();
  .flex-direction(column);
  .align-items(center);

  @media(max-width: @screen-sm-max) {
    margin-top: (-@rhythmic-unit);
  }

  @media(max-width: @screen-xs-max) {
    margin-bottom: (2 * @rhythmic-unit);
  }
}

.category-banner {
  margin-bottom: @rhythmic-unit;
}

.category-banner_image-wrapper {
  max-height: 260px;
  overflow: hidden;

  .additional-wrapper {
    max-height: 260px;
    -webkit-transform: translateY(50%);
    transform: translateY(50%);
  }

  @media(max-width: @screen-sm-max) {
    max-height: 240px;
    .additional-wrapper {
      max-height: 240px;
    }
  }

  @media(max-width: @screen-xs-max) {
    max-height: 200px;
    .additional-wrapper {
      max-height: 200px;
    }
  }

  img {
    width: auto;
    height: auto;
    max-width: 100%;
    max-width: 100vw;
    display: block;
    -webkit-transform: translateY(-50%);
    transform: translateY(-50%);

    @media (min-width: @screen-lg-min) {
      width: 100%;
    }
  }
}

form.select-address p + .add-new-address-button {
  margin-top: @rhythmic-unit;
}

form.select-address .add-new-address-button a {
  .icon-plus;
  &:before {
    font-size: 10px;
    border: 1px solid;
    border-radius: 4px;
    margin-right: 6px;
    padding: 4px;
  }
}

@media(min-width: @screen-sm-min) {
  .address-dialog {
    max-width: 530px;
  }
}

.address-form .default-section {
  .flex-display();
}

.address-dialog ul.default-table {
  .make-xs-column(12; 0);

  @media(min-width: @screen-sm-min) {
    min-width: 530px;
  }

  .flex-display();
  .flex-wrap(wrap);

  width: -webkit-calc(~"100% + 10px");
     width: -moz-calc(~"100% + 10px");
          width: calc(~"100% + 10px");

  > li:not(.input-checkbox-enabled) {
    .floating-label;
    .make-xs-column(12; 0);

    flex: 2 1 auto;

    width: -webkit-calc(~"100% - 10px");
       width: -moz-calc(~"100% - 10px");
            width: calc(~"100% - 10px");
    margin-right: 10px;

    div.table-label {
    }

    div.table-value {
      width: 100%;

      .input-field-wrapper{
        width: 100%;
      }
      input,
      select {
        width: 100%;
      }
    }
  }

  > li.input-checkbox-enabled {
    flex: 2 1 auto;    

    width: -webkit-calc(~"100% - 10px");
       width: -moz-calc(~"100% - 10px");
            width: calc(~"100% - 10px");
            
    margin-right: 10px;

    .table-label {
      line-height: @rhythmic-unit;
      display: inline-block;
      float: none;

      label {
        width: auto;
        margin-left: @rhythmic-unit;
      }
    }
    .table-value {
      input[type=checkbox] {
        width: @rhythmic-unit;
        height: @rhythmic-unit;
      }
    }
  }

  @media(min-width: @screen-sm-min) {
    > li.address-firstname,
    > li.item-firstname,
    > li.address-zipcode,
    > li.item-zipcode,
    > li.address-lastname,
    > li.item-lastname,
    > li.address-phone,
    > li.item-phone {
      width: -webkit-calc(~"50% - 10px");
         width: -moz-calc(~"50% - 10px");
              width: calc(~"50% - 10px");
      clear: none;
    }
  }
}

ul.address-book {
  .flex-display();
  .flex-wrap(wrap);
  .align-items(stretch);

  margin-bottom: (4 * @rhythmic-unit);

  width: -webkit-calc(~"100% + 20px");
     width: -moz-calc(~"100% + 20px");
          width: calc(~"100% + 20px");

  >li {
    margin-right: @rhythmic-unit;
    margin-bottom: @rhythmic-unit;
    width: -webkit-calc(~"28% + 20px");
    width: -moz-calc(~"28% + 20px");
    width: calc(~"28% + 20px");
    display: inline-block;

    @media(max-width: @screen-md-min) {
      width: -webkit-calc(~"40% + 20px");
      width: -moz-calc(~"40% + 20px");
      width: calc(~"40% + 20px");
    }

    @media(max-width: @screen-sm-min) {
      width: 100%;
    }

    &:not(.add-address) .address-box {
      .flex-display();
      .align-items(flex-start);
      .justify-content(space-between);

      width: 100%;
      border: (@border-table * 2) solid @table-border-color;
      padding: (@rhythmic-unit);

      border-radius: 2px;
      padding: 20px;
      margin: 0px 20px 20px 0px;
      position: relative;

      min-height: 150px;

      &:not(.selected):hover{
        color: @color-hover;
        border-color: @color-hover;
      }

      &.selected {
        .icon-ok-mark;
        border-color: @color-highlight;
        cursor: default;

        &:before {
          position: absolute;
          color: @color-highlight;
          top: @rhythmic-unit + 4px;
          right: @rhythmic-unit * 2.5;
          font-size: 14px;
          font-weight: bold;
        }
      }

      & > .address-text {
        width: 80%;
      }
    }

    &.add-address {
      display: block;
      width: 100px;
      flex-basis: 100%;
    }
  }

  .address-entry-actions-cell {
    padding-top: @rhythmic-unit;
  }

  .address-icons {
    position: absolute;
    bottom: (@rhythmic-unit);
    right: (@rhythmic-unit) * 2;
    width: 42px;
    text-align: center;

    img + img {
      margin-top: 5px;
    }
  }

  .delete-action {
    position: absolute;
    top: (@rhythmic-unit);
    right: (@rhythmic-unit);
    width: 20px;
    text-align: center;

    button {
      .icon-trash;

      border: none;
      padding: 0;
    }
  }

  .change-action {
    position: absolute;
    bottom: (@rhythmic-unit);
    right: (@rhythmic-unit);
    width: 20px;
    text-align: center;

    button {
      .icon-pencil;

      background: none;
      border: none;
      padding: 0;
      margin: 0;

      span {
        display: none;
      }
      &:before {
        font-size: 14px;
      }
    }
  }

}

.model-properties {
  .clearfix();
}

ul.table {
  margin-bottom: (2 * @rhythmic-unit);

  >li {
    margin-bottom: @rhythmic-unit;
  }

  .table-label,
  .star {
    line-height: (2 * @rhythmic-unit);
  }

  .star:after {
    content: "\00a0";
    display: inline-block;
  }
}

.flyout-menu {
  li a {
    &:active, &:link, &:visited, &:hover {
      border-top: @border-table solid fade(@color-border, 20%);
      margin-top: -@border-table;
    }
  }

  & > li > a.active,
  & > li.active-trail > a {
    color: @color-highlight;
  }

  .icon-triangle {
    .icon-chevron-right;

    &:before {
      font-size: 12px;
    }
  }

  ul.sublevel {
    margin-top: -(0.5 * @rhythmic-unit);
    padding: (0.5 * @rhythmic-unit);

    li a {
      line-height: (2 * @rhythmic-unit);
    }

    li:hover {
      background-color: #f4fbfe;
      border-radius: 2px;
      border: 0px solid transparent;
    }
  }

  &.catalog-categories > li > ul.sublevel {
    margin-top: -(0.5 * @rhythmic-unit);
  }
}

.top-main-menu {
  li ul {
    padding: (0.5 * @rhythmic-unit);
  }

  li li {
    & > span, a {
      //color: @color-text-dark;
      line-height: (2 * @rhythmic-unit);
      padding-left: (0.5 * @rhythmic-unit);
      padding-right: (0.5 * @rhythmic-unit);
    }

    &.has-sub > span, &.has-sub > a {
      .icon-chevron-right--right();
      &:after {
        line-height: (2 * @rhythmic-unit);
      }
    }

    ul {
      margin-top: -(1.5 * @rhythmic-unit);
      margin-left: -((1.5 * @rhythmic-unit) / 2);
    }
  }
}
