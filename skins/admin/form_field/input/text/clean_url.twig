{##
 # Clean URL
 #}

{% if this.hasExtension() %}
{% if this.hasExtension() %}
  <div class="cleanurl-wrapper">
    <div class="input-group">
      <input{{ this.getAttributesCode()|raw }}/>
      <span class="input-group-addon" data-extension="{{ this.getExtension() }}">.{{ this.getExtension() }}</span>
    </div>
  </div>
{% endif %}
{% else %}
<input{{ this.getAttributesCode()|raw }}/>
{% endif %}
{% if this.isCleanURLDisabled() %}
  <div class="clean-url-disabled-info">
    <i class="fa fa-exclamation-triangle"></i>
    {{ this.getDisabledCleanUrlComment()|raw }}
  </div>
{% endif %}
{% if this.getErrorMessage() %}
  <div class="error inline-error">
    {{ this.getErrorMessage()|raw }}
    {% if this.hasConflict() %}
    {{ widget('XLite\\View\\ToolTip', text=this.getResolveHint(), caption=t('Resolve the conflict'), isImageTag='false', className='help-icon') }}
    {% endif %}
  </div>
{% endif %}

<div class="clean-url-result"
      data-saved-value="{{ this.getSavedValue() }}"
      data-url-template="{{ this.getFakeURL() }}">
  <span class="result-label">{{ t('Result') }}:</span>
  <span class="saved-url">
    {% if this.isCleanURLDisabled() %}      
      {% if this.getURL() %}
        <span>{{ this.getURL() }}</span>
      {% endif %}
    {% else %}    
      {% if this.getURL() %}
        <a href="{{ this.getURL() }}" target="_blank">{{ this.getURL() }}</a>
      {% endif %}
    {% endif %}
  </span>
  <span class="url"></span>
</div>

<div class="clean-url-result-autogenerated">
 {{ t('The clean URL will be generated automatically.') }}
</div>

{% if this.isHistoryConflict() %}
<div class="additional-option">
  <input type="checkbox" name="{{ this.getNamePostedData('forceCleanURL') }}" value="1" id="forceCleanURLFlag" />
  <label for="forceCleanURLFlag" class="note">
    <span class="force mark">{{ t('Assign entered Clean URL to this page anyway') }}</span>
  </label>
</div>
{% endif %}

<div class="additional-option">
  <input type="checkbox" name="{{ this.getNamePostedData('autogenerateCleanURL') }}" value="1" {% if not this.getValue() %} checked="checked" {% endif %} id="autogenerateFlag" />
  <label for="autogenerateFlag" class="note">{{ t('Autogenerate Clean URL') }}</label>
</div>
